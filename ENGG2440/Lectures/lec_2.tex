\chapter{Summation Techniques}

\section{Summation}
When summing numbers with certain patterns, we can use summation notation. For example,
\[
	a_1 + a_2 + \cdots + a_n = \sum_{k=1}^n a_k 
\]

\subsection{Distributive Law}
Let \(c\) be a constant. Then, we can take \(c\) out of the summation:
\[
	\sum_{k\in\mathcal{K} } ca_k = c\sum_{k\in\mathcal{K} }a_k 
\]

\begin{eg}
	\[
		\sum_{k=1}^n 2k = 2(1) + 2(2) + 2(3) + \cdots + 2(n) = 2(1 + 2 + 3 + \cdots + n) = 2\sum_{k=1}^n k  
	\]
\end{eg}

\subsection{Associative Law}
We can split the summands as follows:

\[
	\sum_{k\in\mathcal{K}}(a_k + b_K) = \sum_{k\in\mathcal{K}}a_k + \sum_{k\in\mathcal{K}}b_k
\]

\begin{eg}
	\[\begin{aligned}
		\sum_{k = 1}^n(k + k^2) &= (1 + 1^2) + (2 + 2^2) + \cdots + (n + n^2) \\
		&= (1 + 2 + \cdots + n) + (1^2 + 2^2 + \cdots + n^2) \\
		&= \sum_{k = 1}^n k + \sum_{k = 1}^n k^2
	\end{aligned}\]
\end{eg}

\section{Close Form Formula}
Close form formula is the formula that does not have the summation index \(k\) for a sum by simply writing it out explicitly. For example,
\[
	\sum_{k = 1}^n (a_{k} - a_{k-1})
\]

By expanding the sum, we have
\[
	\sum_{k = 1}^n (a_{k} - a_{k-1}) = (a_1 - a_0) + (a_2 - a_1) + \cdots + (a_n - a_{n-1}) = a_n - a_0
\]
By cancelling the terms, we get \(a_n - a_0\), which is the close form formula for the summation \(\sum_{k = 1}^n (a_{k} - a_{k-1})\).

\section{Perturbation Method}
It could be difficult to derive the close form formula for some summation. Therefore, we can use the perturbation method.

For summation
\[
S_n = \sum_{k = 1}^n a_k,
\]
we can split off the first term and the last term, then rewrite it as
\[
	a_1 + \sum_{k = 2}^{n + 1} a_k = S_{n+1} = \sum_{k = 1}^{n} a_k + a_{n + 1}
\]

\begin{eg}[Geometric Sum]
	Let \(x\)  be any number. Consider the sum
	\[
		S_n = \sum_{k = 1}^n x^k
	\]
	\[
		x + \sum_{k = 2}^{n + 1} x^k = S_{n+1} = \sum_{k = 1}^{n} x^k + x^{n+1}
	\]
	Observe that
	\[
	\sum_{k = 2}^{n + 1} x^k = x^2 + x^3 + \cdots + x^{n+1} = x(x + x^2 + \cdots + x^n) = xS_n
	\]
	By substitution, we have
\[
	x+ xS_n = S_n + x^{n+1}
\]
If \(x \neq 1\), then we can solve for \(S_n\) to get
\[
	S_n = \dfrac{x(1 - x^n)}{1 - x}
\] 
This summation is also called geometric sum.
\end{eg}

By applying the perturbation method, we can find the close form formula for some common summation. Another example is Quadratic Series.

\newpage
\begin{eg}[Quadratic Series]
	By applying perturbation method to the sum
	\[
		S_n = \sum_{k = 1}^n k^2,
	\]
	we have
	\[
		1 + \sum_{k = 2}^{n + 1} k^2 = S_{n + 1} = \sum_{k = 1}^n  k^2 + (n + 1)^2 
	\]
	Let \(j = k - 1\),
	\[
		\sum_{k = 2}^{n + 1} k^2 = \sum_{j = 1}^{n} (j + 1)^2
	\]
	\[
	\begin{aligned}
		\sum_{j = 1}^{n} (j + 1)^2 &= \sum_{j = 1}^n (j^2 + 2j + 1) \\
		&=  \sum_{j = 1}^n j^2 + 2\sum_{j = 1}^n j + \sum_{j = 1}^n 1 \\
		&= S_n + 2\sum_{j = 1}^n j + n
	\end{aligned}
	\]
	Then, we have
	\[
		\begin{aligned}
			1 + \sum_{k = 2}^{n + 1} k^2 &= \sum_{k = 1}^n  k^2 + (n + 1)^2 \\
			1 + S_n + 2\sum_{j = 1}^n j + n& = S_n + (n + 1)^2 \\
			\sum_{j = 1}^n j &= \dfrac{n(n + 1)}{2}
		\end{aligned}
	\]
	However, we obtain the Euler\(^{\prime}\)s trick here instead. Thus, we may apply the perturbation method to another sum.
	\[
		C_n = \sum_{k = 1}^n k^3 \Rightarrow 1 + \sum_{k = 2}^{n + 1} k^3 = C_{n + 1} = \sum_{k = 1}^n  k^3 + (n + 1)^3
	\]
	\[
		\begin{aligned}
			\sum_{k = 2}^{n + 1} k^3 &= \sum_{j = 1}^n (j + 1)^3 \quad\text{(By applying \(j = k - 1\))} \\
			&= \sum_{j = 1}^n j^3 + 3\sum_{j = 1}^n j^2 + 3\sum_{j = 1}^n j + \sum_{j = 1}^n 1 \\
			&= C_n + 3S_n + \dfrac{3n(n + 1)}{2} + n
		\end{aligned}
	\]
	By substitution, we get
	\[
	\begin{aligned}
		1 + C_n + 3S_n + \dfrac{3n(n + 1)}{2} + n &= C_n + (n + 1)^3 \\
		2 + 6S_n + 3n(n + 1) + 2n &= 2(n + 1)^3 \\
		S_n &= \dfrac{2(n + 1)^3 - 2n - 2 - 3n(n + 1)}{6} \\
		S_n &= \dfrac{(n + 1)(2(n + 1)^{2} - 2 - 3n )}{6} \\
		S_n &= \dfrac{n(n + 1)(2n + 1)}{6}
	\end{aligned}
	\]
\end{eg}

\newpage
There are some shortcut expression that might be used without finding the closed form formula on your own.
\begin{proposition}[Close form formula]
	(You can try the perturbation method to find the close form formula by yourself.)
	
	\begin{itemize}
		\item Geometric series
		\[
		\sum_{k = 0}^n ar^k = \dfrac{a(r^{n+1} - 1)}{r - 1}, r \neq 1
		\]
		\item  Euler\(^{\prime}\)s trick
		\[
		\sum_{k = 1}^n k = \dfrac{n(n+1)}{2}
		\]
		\item Quadratic series
		\[
			\sum_{k = 1}^n k^2 = \dfrac{n(n + 1)(2n + 1)}{6}
		\]
		\item Cubic series
		\[
			\sum_{k = 1}^n k^3 = \dfrac{n^2(n + 1)^2}{4}
		\]
	\end{itemize}
\end{proposition}

\section{Guess-and-Verify method}
